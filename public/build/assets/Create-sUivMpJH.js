import{T as A,r as m,p as D,o as d,c,a as r,u as n,w as u,F as x,Z as E,b as a,d as e,t,m as S,g as N,j as P,v as I,n as T}from"./app-rIty18ko.js";import{_ as B}from"./AuthenticatedLayout-Smr3UiCu.js";import{_ as F}from"./InputError-ngFdGzkP.js";import{_ as q}from"./InputLabel-9Fx6gtGj.js";import{_ as z,a as L}from"./SecondaryButton-iXQWmru3.js";import{_ as $}from"./PrimaryButton-Eq5VYNt2.js";import{_ as Z}from"./WarningButton-nr-JJ2gX.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const G={class:"bg-white overflow-hidden shadow-md sm:rounded-lg"},H={class:"p-6 border-b border-gray-200"},J={role:"list",class:"marker:text-indigo-400 list-disc pl-5 space-y-3 text-slate-500"},K=e("b",null,"Alumno:",-1),Q=e("b",null,"Maestría o Postgrado:",-1),R=e("b",null,"Período:",-1),W={key:0},X=e("b",null,"UCs Pagadas:",-1),Y=e("b",null,"UCs Disponibles:",-1),ee=e("b",null,"Fecha de Pago:",-1),se={key:1},oe=e("b",null,"UCs Disponibles:",-1),te=e("p",null,'Presione el botón "Agregar" para seleccionar y añadir las materias correspondientes a su programa de estudio. Debe tener saldo de UCs disponibles para agregar una materia.',-1),ie={class:"mt-8 flex flex-row justify-end overflow-hidden shadow-sm sm:rounded-lg"},ae=e("div",{class:"justify-between flex flex-row space-x-2 mb-2"},[e("div",{class:"mt-10 text-2xl text-gray-900 shadow-sm"},"Secciones inscritas en este período")],-1),re={class:"bg-white overflow-hidden mt-6 shadow-sm sm:rounded-lg"},ne={class:"w-full whitespace-nowrap"},de=e("tr",{class:"border-b bg-gray-50 text-left text-xs font-semibold uppercase tracking-wide text-gray-500"},[e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"},"#"),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"},"Sección"),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"},"Materia"),e("th",{class:"border-b-2 border-gray-200 bg-gray-100 px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"})],-1),ce={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},le={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},ue={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},pe={class:"border-b border-gray-200 bg-white px-5 py-5 text-sm"},_e=["onClick"],me={key:0},ge=e("td",{class:"px-6 py-4 border-t",colspan:"4"},"No hay secciones inscritas",-1),be=[ge],fe={class:"mt-2 p-2"},he={class:"mt-3 p-3 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6"},ye={class:"sm:col-span-6"},xe={class:"mt-2"},ve=e("option",{value:null,disabled:""},"Selecciona una opción",-1),we=["value"],ke={class:"sm:col-span-2"},Ce=e("div",{class:"sm:col-span-2"},null,-1),je={class:"sm:col-span-2"},Ee={__name:"Create",props:{errors:{type:Object},alumno:{type:Object},secciones:{type:Object},maestria:{type:Object},periodo:{type:Object},insc:{type:Object},uc:{type:Object}},setup(_){const i=_,o=A({alumno_id:"",infoseccion_id:"",periodo_id:""}),g=m(!1),b=m(""),v=m(1),w=m(""),f=i.alumno.id,k=i.periodo.id,M=()=>{v.value==1?o.post(route("inscripcions.store"),{onSuccess:()=>{C()}}):o.put(route("inscripcions.update",w.value),{onSuccess:()=>{C()}})},C=()=>{o.reset(),h()},j=(p,l,y,s)=>{g.value=!0,v.value=p,w.value=s,p==1?(b.value="Agregar Sección",o.alumno_id=f,o.periodo_id=k):(b.value="Modificar Sección",o.alumno_id=f,o.infoseccion_id=y,o.periodo_id=k)},h=()=>{g.value=!1,o.reset()},V=p=>{confirm("Está seguro de eliminar esta sección de clase?")&&o.delete(route("inscripcions.destroy",p))};return(p,l)=>{const y=D("TextInput");return d(),c(x,null,[r(n(E),{title:"Módulo de Inscripción"}),r(B,null,{header:u(()=>[a(" Módulo de Inscripción ")]),default:u(()=>[e("div",G,[e("div",H,[e("ul",J,[e("p",null,[K,a(" "+t(i.alumno.nombre1)+" "+t(i.alumno.apellido1),1)]),e("li",null,[Q,a(" "+t(i.maestria.nombre),1)]),e("li",null,[R,a(" "+t(i.periodo.nperiodo),1)]),i.uc&&i.uc.uc_disponibles?(d(),c("li",W,[X,a(" "+t(i.uc.uc_pagadas)+" | ",1),Y,a(" "+t(i.uc.uc_disponibles)+" | ",1),ee,a(" "+t(i.uc.fecha),1)])):(d(),c("li",se,[oe,a(" "+t(i.uc.mensaje),1)])),te]),e("div",ie,[r($,{onClick:l[0]||(l[0]=s=>j(1))},{default:u(()=>[a(" Agregar ")]),_:1})])])]),ae,e("div",re,[e("table",ne,[de,(d(!0),c(x,null,S(_.insc,(s,O)=>(d(),c("tr",{key:s.id,class:"hover:bg-gray-100 focus-within:bg-gray-100"},[e("td",ce,t(O+1),1),e("td",le,t(s.seccion),1),e("td",ue,t(s.materia),1),e("td",pe,[r(Z,{onClick:U=>j(2,n(f),s.infoseccion_id,s.id)},{default:u(()=>[a(" Editar ")]),_:2},1032,["onClick"]),e("button",{onClick:U=>V(s.id),class:"rounded-md bg-red-600 px-4 py-2 text-center text-sm text-white hover:bg-red-500 gap-6 ml-2"}," Eliminar ",8,_e)])]))),128)),_.insc.length===0?(d(),c("tr",me,be)):N("",!0)]),r(z,{show:g.value,onClose:h},{default:u(()=>[e("h2",fe,t(b.value),1),e("div",he,[e("div",ye,[r(q,{for:"infoseccion_id",value:"Elija una Sección"}),e("div",xe,[r(y,{id:"periodo",type:"text",modelValue:n(o).periodo,"onUpdate:modelValue":l[1]||(l[1]=s=>n(o).periodo=s),style:{display:"none"}},null,8,["modelValue"]),P(e("select",{"onUpdate:modelValue":l[2]||(l[2]=s=>n(o).infoseccion_id=s),class:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",required:"",autofocus:""},[ve,(d(!0),c(x,null,S(_.secciones,s=>(d(),c("option",{key:s.id,value:s.id},t(s.nombre)+" - "+t(s.materia)+" ("+t(s.uc)+" UC)",9,we))),128))],512),[[I,n(o).infoseccion_id]]),r(F,{class:"mt-2",message:n(o).errors.infoseccion_id},null,8,["message"])])]),e("div",ke,[r($,{class:T({"opacity-25":n(o).processing}),disabled:n(o).processing,onClick:M},{default:u(()=>[a(" Agregar ")]),_:1},8,["class","disabled"])]),Ce,e("div",je,[r(L,{disabled:n(o).processing,onClick:h},{default:u(()=>[a(" Cancelar ")]),_:1},8,["disabled"])])])]),_:1},8,["show"])])]),_:1})],64)}}};export{Ee as default};
